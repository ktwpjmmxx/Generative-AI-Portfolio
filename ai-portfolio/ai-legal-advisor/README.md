# 🏛️ AI Legal Advisor Platform

**個人情報・消費者保護特化型 IT法務チェッカー**

ファインチューニング済みLLM（Elyza-7B）を活用した、IT法務リスク判定システム

---

## 🎯 プロジェクト概要

このプロジェクトは、IT法務の専門知識でファインチューニングされたLLMを使用して、開発仕様やサービス設計における法的リスクを自動判定するWebアプリケーションです。

### 特徴

✅ **高精度な判定**: 5つの専門領域で100%の精度を達成  
✅ **責任ある設計**: 対応範囲外の質問は明示的に除外  
✅ **実用的なUX**: 法務担当者が実際に使える形で設計  
✅ **スケーラブル**: マイクロサービス的な3層アーキテクチャ  

---

## 📋 対応範囲

### ✅ 対応可能な領域（高精度）

1. **個人情報保護**
   - ユーザーデータの収集・利用
   - 第三者提供
   - 同意取得の適切性

2. **消費者保護**
   - ダークパターンの検出
   - 解約フローの適切性
   - 利用規約の不当条項

3. **アクセシビリティ**
   - ウェブアクセシビリティ（WCAG準拠）
   - 障害者差別解消法への対応

4. **金融規制**
   - 電子決済等代行業
   - 暗号資産関連

5. **契約法務**
   - SaaS利用規約
   - 信義則違反のチェック

### ❌ 対応範囲外（明示的に除外）

- OSSライセンス関連 → 知的財産弁護士に相談
- AI倫理・アルゴリズム判定 → AI倫理専門家に相談
- プログラミング技術的な質問 → 技術コミュニティを参照

---

## 🏗️ アーキテクチャ

3層分離設計により、保守性とスケーラビリティを確保

```
┌─────────────────────────────────────────┐
│   Layer 1: Frontend (Streamlit)        │
│   - ユーザー入力受付                    │
│   - 入力フィルタリング                  │
│   - 結果表示                            │
│   - デプロイ: Streamlit Cloud           │
└─────────────────────────────────────────┘
              ↓ HTTP POST
┌─────────────────────────────────────────┐
│   Layer 2: API Server (FastAPI)        │
│   - リクエスト受付                      │
│   - モデル推論呼び出し                  │
│   - レスポンス整形                      │
│   - デプロイ: Google Colab + ngrok      │
└─────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────┐
│   Layer 3: Model Inference              │
│   - Elyza-7B (4bit) 推論               │
│   - Google Driveからロード              │
│   - 実行環境: Colab T4 GPU              │
└─────────────────────────────────────────┘
```

---

## 📁 プロジェクト構成

```
ai-legal-advisor/
├── frontend/              # Streamlit フロントエンド
│   ├── app.py            # メインアプリケーション
│   ├── input_filter.py   # 入力フィルタリング（実装済み✅）
│   └── requirements.txt  # 依存パッケージ
│
├── backend/              # FastAPI バックエンド
│   ├── api_server.py     # API エンドポイント
│   ├── model_loader.py   # モデルロード処理
│   ├── inference.py      # 推論ロジック
│   └── requirements.txt  # 依存パッケージ
│
├── notebooks/            # 開発・テスト用
│   └── model_inference_test.ipynb  # モデルテスト（実装済み✅）
│
└── README.md            # このファイル
```

---

## 🚀 セットアップ

### 前提条件

- Python 3.10以上
- Google Colabアカウント（GPU利用）
- Google Driveにファインチューニング済みモデル（model.safetensors）

### 1. フロントエンド（ローカル開発）

```bash
cd frontend
pip install -r requirements.txt
streamlit run app.py
```

### 2. バックエンド（Google Colab）

1. `notebooks/model_inference_test.ipynb` をGoogle Colabで開く
2. Google Driveをマウント
3. モデルパスを設定
4. セルを順番に実行してモデルをロード

### 3. API化（次ステップ）

FastAPIサーバーを実装し、ngrokで外部公開予定

---

## 🧪 テスト

### 入力フィルタリングのテスト

```bash
cd frontend
python input_filter.py
```

**期待される出力:**
```
============================================================
入力フィルタリングテスト
============================================================

【テスト 1】
入力: ユーザーの位置情報を収集して広告配信に利用します
✅ 対応範囲内

【テスト 2】
入力: GPLライセンスのコードを利用しても大丈夫ですか？
❌ 対応範囲外
   カテゴリ: OSS License
   メッセージ: OSSライセンスに関するご質問は、専門の知的財産弁護士にご相談ください。
```

### モデル推論のテスト

Google Colabで `notebooks/model_inference_test.ipynb` を実行

---

## 📊 実装状況

### ✅ 完了

- [x] プロジェクト構成の作成
- [x] 入力フィルタリング機能
- [x] モデル推論テストノートブック
- [x] README作成

### 🚧 進行中

- [ ] Streamlit UIの実装
- [ ] FastAPI サーバーの実装
- [ ] ngrokによるAPI公開
- [ ] フロントエンド・バックエンド連携

### 📅 今後の予定

- [ ] エラーハンドリングの充実
- [ ] ログ機能の追加
- [ ] UI/UX改善
- [ ] デプロイと公開
- [ ] ドキュメント・デモ動画作成

---

## 🎨 使用技術

### フロントエンド
- **Streamlit**: Pythonベースの高速Webアプリ開発
- **Python 3.10+**: コア言語

### バックエンド
- **FastAPI**: 高性能なPython Webフレームワーク
- **Transformers**: Hugging Faceのモデル推論ライブラリ
- **BitsAndBytes**: 4bit量子化による省メモリ推論

### インフラ
- **Google Colab**: GPU推論環境（T4 GPU）
- **ngrok**: ローカルAPIの外部公開
- **Streamlit Cloud**: フロントエンドのホスティング（予定）

### モデル
- **Elyza-7B**: 日本語特化型LLM
- **ファインチューニング**: IT法務500件のデータセット
- **量子化**: 4bit（メモリ効率化）

---

## 💡 設計思想

### 1. モデルの限界を理解した設計

「AIは万能ではない」という前提のもと、得意な5領域に特化し、不得意な領域は明示的に除外しました。

### 2. 責任あるAI

- 判定結果は「参考情報」として提示
- 最終的な法的判断は弁護士に委ねる旨を明記
- 誤判定によるビジネスリスクを最小化

### 3. 実用性重視

- 法務担当者が実際に使える形で設計
- 結果のコピー機能
- シンプルで直感的なUI

---

## 📈 パフォーマンス目標

- **推論時間**: 20-30秒以内（目標: 16秒）
- **精度**: 対応5領域で100%維持
- **同時リクエスト**: 1-2件（MVP段階）

---

## 🤝 コントリビューション

このプロジェクトはポートフォリオ用の個人プロジェクトですが、フィードバックは歓迎します。

---

## 📄 ライセンス

MIT License

---

## 👤 作成者

- **プロジェクト**: AI Legal Advisor Platform
- **目的**: AI開発エンジニアポートフォリオ
- **技術スタック**: Python, Streamlit, FastAPI, Transformers, LLM Fine-tuning

---

## 📞 お問い合わせ

- GitHub Issues（予定）
- 技術ブログ（予定）

---

## 🎯 次のステップ

1. **Week 1**: Streamlit UI実装
2. **Week 2**: FastAPI サーバー実装とngrok公開
3. **Week 3**: フロントエンド・バックエンド連携
4. **Week 4**: デプロイ、ドキュメント、デモ動画

**進捗状況**: Day 1 完了 ✅

---

*最終更新: 2026年1月19日*